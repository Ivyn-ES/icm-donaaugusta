<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciar Usu√°rios - ICM</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="container admin-card">
        <h1>üë®‚Äç‚öñÔ∏è Gerenciar Usu√°rios</h1>
        
        <div class="add-user-box">
            <h3>Novo Usu√°rio</h3>
            <input type="text" id="novoNome" placeholder="Nome de usu√°rio (ex: joao)">
            <input type="password" id="novaSenhaUser" placeholder="Senha (m√≠n. 4 d√≠gitos)">
            <select id="novaPermissao">
                <option value="basica">B√°sica (Membro)</option>
                <option value="grupo1">Respons√°vel Grupo 1</option>
                <option value="grupo2">Respons√°vel Grupo 2</option>
                <option value="secretaria">Secretaria</option>
                <option value="completa">Administrador (Pastor)</option>
            </select>
            <button onclick="adicionarNovoUsuario()" class="btn-confirm">Adicionar Usu√°rio</button>
        </div>

        <hr>

        <h3>Usu√°rios Cadastrados</h3>
        <ul id="listaUsuarios" class="user-list">
            </ul>

        <div class="action-footer">
            <a href="dashboard.html" class="btn-cancel">‚¨Ö Voltar ao Dashboard</a>
        </div>
    </div>

    <script src="../js/script.js"></script>
    <script src="admin-usuarios.js"></script>
    <script>
        // Prote√ß√£o de rota imediata
        const logado = JSON.parse(localStorage.getItem('usuarioLogado'));
        if (!logado || logado.permissoes !== 'completa') {
            alert('Acesso negado! Apenas administradores.');
            window.location.href = 'dashboard.html';
        }
    </script>
</body>
</html>